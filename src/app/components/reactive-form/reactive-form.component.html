<div class="container">
    <div class="reactive-form-header">
        <div>Reactive Form Demo</div>
    </div>
    <div class="reactive-form" [formGroup]="shippingForm">
        <div class="form-control-wrapper">
            <label for="firstName">First name</label>
            <input
                formControlName="firstName" 
                type="text" class="form-control" id="firstName"
                (focus)="onControlFocus('firstName')"
            >
            <div *ngIf="!firstName.valid && !firstName.pristine"
                 class="alert alert-danger">
                  <div *ngIf="firstName.errors.required">
                      Required
                  </div>
                  <div *ngIf="firstName.errors.forbiddenName">
                      That name is not allowed...
                  </div>
            </div>
        </div>
        <div class="form-control-wrapper">
            <label for="lastName">Last name</label>
            <input
                formControlName="lastName" 
                type="text" class="form-control" id="lastName"
                (focus)="onControlFocus('lastName')"
            >
            <div *ngIf="!lastName.valid && !lastName.pristine"
                 class="alert alert-danger">
                  <div *ngIf="lastName.errors.required">
                      Required
                  </div>
                  <div *ngIf="lastName.errors.forbiddenName">
                      That name is not allowed...
                  </div>
            </div>
        </div>
        <div class="form-control-wrapper">
            <label for="addressLineOne">Street address</label>
            <input formControlName="addressLineOne" type="text" class="form-control" id="addressLineOne"
                   required
                   autocomplete="address-line1"
                   (focus)="onControlFocus('addressLineOne')"
                   >
            <div *ngIf="!addressLineOne.valid && !addressLineOne.pristine"
                 class="alert alert-danger">
                  <div *ngIf="addressLineOne.errors.required">
                    Required
                  </div>
            </div>
        </div>
        <div class="form-control-wrapper">
            <label for="addressLineTwo">Line two</label>
            <input formControlName="addressLineTwo" type="text" class="form-control" id="addressLineTwo"
                    autocomplete="address-line2"
                    (focus)="onControlFocus('addressLineTwo')"
                    >
        </div>
  
        <div class="form-control-wrapper">
          <label for="state">State</label>
          <select formControlName="state" class="form-control" id="state" (focus)="onControlFocus('state')">
            <option *ngFor="let state of states" [value]="state">{{state}}</option>
          </select>
          <div *ngIf="!state.valid && !state.pristine"
                 class="alert alert-danger">
                <div *ngIf="state.errors.required">
                  Required
                </div>
          </div>
        </div>
        <div class="form-control-wrapper">
            <label for="postalCode">Zip code</label>
            <input formControlName="postalCode" type="text" class="form-control" id="postalCode" (focus)="onControlFocus('postalCode')">
            <div *ngIf="!postalCode.valid && !postalCode.pristine"
                 class="alert alert-danger">
                 <div *ngIf="postalCode.errors.required">
                    Required
                 </div>
                <div *ngIf="postalCode.errors.minlength">
                    Postal code must be at least 5 characters long.
                </div>
            </div>
        </div>
        <div class="form-control-wrapper">
            <label for="country">Country</label>
            <input formControlName="country" type="text" class="form-control" id="country" (focus)="onControlFocus('country')">
            <div [hidden]="country.valid || country.pristine"
                 class="alert alert-danger">
              Required
            </div>
        </div>
        <div class="form-control-wrapper">
          <label for="email">Email</label>
          <input formControlName="email" type="text" class="form-control" id="email" (focus)="onControlFocus('email')">
          <div *ngIf="!email.valid && !email.pristine"
               class="alert alert-danger">
            <div *ngIf="email.errors.required">Required</div>
            <div *ngIf="email.errors.invalidConfirmEmails">Emails do not match</div>
          </div>
        </div>
        <div class="form-control-wrapper">
          <label for="confirmEmail">Confirm Email</label>
          <input formControlName="confirmEmail" type="text" class="form-control" id="confirmEmail" (focus)="onControlFocus('confirmEmail')">
          <div *ngIf="!confirmEmail.valid && !confirmEmail.pristine"
              class="alert alert-danger">
              <div *ngIf="confirmEmail.errors.required">Required</div>
              <div *ngIf="confirmEmail.errors.invalidConfirmEmails">Emails do not match</div>
          </div>
        </div>

    </div>
    <pre>{{ shippingForm.value | json }}</pre>
    <pre> FORM STATUS: {{shippingForm.status }} </pre>
</div>
